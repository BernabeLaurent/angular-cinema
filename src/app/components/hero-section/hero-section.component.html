<!-- Loading state -->
<div *ngIf="loading" class="hero-section loading-hero">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <div class="movie-info">
      <div class="loading-placeholder">
        <h1>Chargement...</h1>
      </div>
    </div>
  </div>
</div>

<!-- Hero section - only display if we have a featured movie -->
<div *ngIf="!loading && featuredMovie" class="hero-section">
  <!-- Image LCP visible immédiatement -->
  <ng-container *ngIf="featuredMovie.backgroundImageWebp && featuredMovie.backgroundImageJpg">

    <picture fetchpriority="high">
      <source [srcset]="featuredMovie.backgroundImageWebp" type="image/webp">
      <img
        ngSrc="{{featuredMovie.backgroundImageJpg}}"
        alt="{{ featuredMovie.title }}"
        width="1920"
        height="1080"
        class="hero-lcp-img"
        loading="eager"
      />
    </picture>
  </ng-container>
  <!-- Overlay -->

  <div class="hero-overlay"></div>

  <div class="hero-content">
    <div class="movie-info">
      <h1 class="movie-title">{{ featuredMovie.title }}</h1>
      <h2 class="movie-subtitle">{{ featuredMovie.subtitle }}</h2>

      <div class="movie-meta">
        <span class="duration" *ngIf="featuredMovie.duration">{{ featuredMovie.duration }}</span>
        <span class="separator" *ngIf="featuredMovie.duration && featuredMovie.genre">•</span>
        <span class="genre" *ngIf="featuredMovie.genre">{{ featuredMovie.genre }}</span>
        <span class="separator" *ngIf="featuredMovie.genre && featuredMovie.rating">•</span>
        <div class="rating" *ngIf="featuredMovie.rating">
          <mat-icon class="star" aria-hidden="true">star</mat-icon>
          <span>{{ featuredMovie.rating }}/5</span>
        </div>
      </div>

      <p class="movie-description">{{ featuredMovie.description }}</p>

      <div class="action-buttons">
        <button mat-raised-button class="book-btn" (click)="onBookTicket()">
          RÉSERVER
        </button>
        <button mat-stroked-button class="details-btn" (click)="onViewDetails()">
          DÉTAILS
        </button>
      </div>
    </div>
  </div>
</div>

<!-- No movie available - section is completely hidden -->
